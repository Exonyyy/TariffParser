# Tariff Parser

## –û–ø–∏—Å–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–∞—Ä—Å–∏—Ç —Ç–∞—Ä–∏—Ñ–Ω—ã–µ –ø–ª–∞–Ω—ã —Å —Å–∞–π—Ç–∞ (https://www.rialcom.ru/internet_tariffs/) –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π:

–ú–Ω–æ–≥–æ–∫–≤–∞—Ä—Ç–∏—Ä–Ω—ã–µ –¥–æ–º–∞
–ß–∞—Å—Ç–Ω—ã–µ –¥–æ–º–∞ –∏ –∫–æ—Ç—Ç–µ–¥–∂–∏

–ü–æ—Å–ª–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–∞–Ω–Ω—ã–µ –Ω–æ—Ä–º–∞–ª–∏–∑—É—é—Ç—Å—è, –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ Excel-—Ñ–∞–π–ª `tariffs.xlsx`.


## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Python 3.10+** –∏ –º–µ–Ω–µ–¥–∂–µ—Ä –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π **[Poetry](https://python-poetry.org/)**.

### 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://github.com/your-username/tariff_parser.git
cd tariff_parser
```

> –î–ª—è Windows: –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã –≤ **Git Bash** –∏–ª–∏ **PowerShell**.

---

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Poetry

#### –ï—Å–ª–∏ Poetry –µ—â—ë –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:

```bash
pip install poetry
```

–î–ª—è Windows –º–æ–∂–Ω–æ —Ç–∞–∫–∂–µ:

```powershell
(Invoke-WebRequest -Uri https://install.python-poetry.org -UseBasicParsing).Content | python -
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É:

```bash
poetry --version
```

---

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
poetry install
```

---

### 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ ChromeDriver –¥–ª—è Selenium

#### Selenium —Ç—Ä–µ–±—É–µ—Ç WebDriver:

1. –û—Ç–∫—Ä–æ–π—Ç–µ Chrome –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é:  `chrome://settings/help`
2. –°–∫–∞—á–∞–π—Ç–µ [ChromeDriver](https://sites.google.com/chromium.org/driver/) —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –≤–µ—Ä—Å–∏–∏
3. –†–∞—Å–ø–∞–∫—É–π—Ç–µ –∏:

   * –¥–ª—è Windows: –¥–æ–±–∞–≤—å—Ç–µ –ø—É—Ç—å –∫ `chromedriver.exe` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é —Å—Ä–µ–¥—ã `PATH`
   * –¥–ª—è Linux/macOS: –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ –≤ `/usr/local/bin`

---

## –ó–∞–ø—É—Å–∫

```bash
poetry run python app/main.py
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: `tariffs.xlsx` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏

–ò–∑–º–µ–Ω—è—é—Ç—Å—è –≤ `app/config.py`:

```python
url = "https://www.rialcom.ru/internet_tariffs/"
needed_section = [1, 2]  # –ò–Ω–¥–µ–∫—Å—ã —Å–µ–∫—Ü–∏–π –Ω–∞ —Å–∞–π—Ç–µ
excel_name = "tariffs.xlsx"
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
tariff_parser/
‚îú‚îÄ‚îÄ .venv/                   # –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ Poetry
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ main.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ parser.py            # –ü–∞—Ä—Å–∏–Ω–≥ —á–µ—Ä–µ–∑ Selenium
‚îÇ   ‚îú‚îÄ‚îÄ config.py            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ utilities.py         # Excel –æ–±—Ä–∞–±–æ—Ç–∫–∞
‚îú‚îÄ‚îÄ poetry.lock
‚îú‚îÄ‚îÄ pyproject.toml
‚îî‚îÄ‚îÄ tariffs.xlsx             # –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–∞—Ä—Å–∏–Ω–≥–∞
```

---

## üìö –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –≤ `pyproject.toml`. –û—Å–Ω–æ–≤–Ω—ã–µ:

| –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ               | –ö–æ–º–∞–Ω–¥–∞ —Ä—É—á–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ |
| ---------- | ------------------------ | ------------------------ |
| selenium   | –í–µ–±-–ø–∞—Ä—Å–∏–Ω–≥              | `pip install selenium`   |
| pandas     | –†–∞–±–æ—Ç–∞ —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏       | `pip install pandas`     |
| openpyxl   | –ó–∞–ø–∏—Å—å Excel —Ñ–∞–π–ª–æ–≤      | `pip install openpyxl`   |
| poetry     | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ | `pip install poetry`     |

> ‚ùóÔ∏è –í—Å–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —É—Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ `poetry install`
